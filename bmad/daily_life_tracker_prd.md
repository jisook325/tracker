# PRD – Daily Life Tracker (Working Draft)

## Step 0. PRD 목적

- **AI에 넘길 실행 명세**
- **프로젝트의 기준점 (Scope / 의사결정 기준)**

본 문서는 이후 Architect / UX / Dev 에이전트에게 전달될 기준 문서로 사용되며, 해석 여지를 최소화하는 것을 목표로 한다.

---

## Step 1. Problem / Opportunity

### 상황

- 일상(daily life)을 체계적으로 관리하기 어렵다.
- 거창한 목표나 계획보다, **수면 시간과 하루의 기분**처럼 최소 단위부터 관리하고 싶다.
- 하루하루는 사실상 계획표라기보다 \*\*‘채점표’\*\*에 가깝다.

### 불만

- 기존 도구는 대부분 To-do / 계획 중심이다.
- “무엇을 했다”보다 **“어떤 하루였는지”**, \*\*“결과가 어땠는지”\*\*를 기록하고 한눈에 보기 어렵다.

---

## Step 2. Product Goal & Success Metric

### Product Goal

- 사용자가 매일 자신의 상태를 **부담 없이 기록**하도록 돕는다.

- 기록 행위 자체가 자기관리의 시작점이 되도록 만든다.

- 보상은 수치나 알림이 아닌 \*\*시각적 완성도(색, 채워짐, 패턴)\*\*에서 발생한다.

- 사용자가 매일 자신의 상태를 **부담 없이 기록**하도록 돕는다.

- 기록 행위 자체가 자기관리의 시작점이 되도록 만든다.

### Success Metric (정의)

- 하루에 **1개 이상 기준**에 기록을 남김
- **7일 연속 유지 → 성공**
- **30일 연속 유지 → 대성공**

(지표 해석: D7 Retention, 30-day Streak Completion)

---

## Step 3. Target User & Usage Timing

### Primary Target

- **다이어리 / 플래너 실패 경험자**
  - 계획은 항상 무너짐
  - 대신 하루의 결과만이라도 기록하고 싶음

### Secondary Target

- **번아웃 직전의 직장인 / 수험생**
  - 할 일 관리보다 ‘내 컨디션이 어떤지’가 더 중요

### Usage Timing

- **아침**: 기상 시간 입력
- **저녁**: 취침 시간 입력 + 그날의 기분 선택

---

## Step 4. MVP Scope (P0)

### In Scope

- GitHub 잔디 스타일의 **Daily Check Board**
- 수면 시간 트래커
  - 기상 시간 / 취침 시간 입력
  - 자동 수면 시간 계산
- 수면 시간 길이에 따른 색상 변화
- Mood Tracker
  - 최대 5개
  - 사용자가 직접 정의

### Out of Scope (초기 버전)

- 수면 시간과 기분 간의 **상관관계 분석**
  - “잠이 부족하면 기분도 안 좋을까?”에 대한 통계/인사이트 제공

---

## Step 4-1. MVP 보완 정책 (결정 사항)

### Streak 인정 기준 (확정)

- 수면 보드 / 무드 보드는 **서로 독립적으로 존재**한다.
- 하루에 **1개 보드만 입력해도 streak는 유지**된다.
- **2개 보드 모두 입력 시 ‘완성’ 상태**로 간주한다.
- UX 톤은 압박이 아닌 **가벼운 게임형 완성 유도**를 따른다.
  - 1개 입력: 부분 완성
  - 2개 입력: 완전 완성

---

### 수면 기록 로직 (확정)

- 수면 시간 streak는 **취침 시간 + 기상 시간**이 모두 입력되었을 때 완성된다.
- 아침 플로우:
  - 기상 시간 입력
  - 전날 취침 시간이 이미 존재할 경우 → 해당 날짜의 수면 시간 streak 자동 완성
  - 전날 취침 시간이 없을 경우 → 기상 시간만 임시 저장
- 저녁 플로우:
  - 취침 시간 입력
  - 취침 시간 입력 후, **그날의 기분(mood) 입력을 자연스럽게 유도**한다.

---

### 시간 입력 방식 (확정)

- 기본값은 **현재 시간 자동 입력**
- 사용자는 필요 시 직접 시간을 수정할 수 있다.
- 모든 입력 방식은 **최소 인터랙션 / 최대 단순성**을 원칙으로 한다.

---

### 미기록 날짜 처리 (확정)

- 하루를 기록하지 않은 경우:
  - streak는 유지되거나 끊기지 않는다.
  - 해당 날짜는 **회색 빈 칸**으로 표시된다.
  - 서비스는 별도의 메시지나 판단을 하지 않는다 (침묵).

---

### 계정 정책 (확정)

- 사용자는 **어디서든 자신의 기록을 다시 볼 수 있어야 한다.**
- 따라서 계정 기반 사용을 전제로 한다.
- **MVP 인증 방식은 Google OAuth 단일 옵션(Google-only)으로 고정**한다.
- 가입 시 별도의 최소 정보(닉네임 등)는 수집하지 않는다.
  - Google 계정 식별자 및 기본 프로필(이메일 등) 중 서비스 운영에 필요한 최소 범위만 사용한다.


---

## Step 5. User Flow (텍스트 기반)

> 본 섹션에는 **A안(기본 플로우)** 과 **B안(고도화 플로우)** 가 공존한다.
> 실제 구현 기준은 **B안**을 따른다.

### A안 요약

- 기상 → 수면 계산
- 취침 → mood 유도
- 시간 수정: ±30분 중심

---

## Step 5-B. User Flow (구현 기준안)

> UX 고도화를 반영한 실행 기준 플로우

### 공통 진입

- 사용자는 웹 서비스에 접속한다.
- 로그인 후, **오늘 날짜가 강조된 Daily Board**를 확인한다.

---

### 시간 입력 공통 규칙

- 기본 입력값은 **현재 시간 자동 입력**
- 강조 우선순위:
  1. 현재 시간 표시
  2. 기상 / 취침 버튼
  3. 시간 변경 버튼(+30m / -30m)
- 현재 시간(hh\:mm)을 탭하면 **수동 입력 모드**로 전환된다.
- 저장 시 입력 값은 **유효한 실제 시간(hh**\*\*:mm\*\*\*\*)\*\* 인지 검증한다.

---

### 아침 플로우 (기상 기록)

1. 사용자는 "기상" 버튼을 누른다.
2. 현재 시간이 기상 시간으로 저장된다.
3. 전날 취침 시간이 존재하는 경우:
   - 취침 + 기상 시간으로 수면 시간을 계산한다.
   - 계산 결과는 **기상 날짜에 귀속**된다.
   - 수면 보드는 **완성 상태**가 된다.
4. 전날 취침 시간이 없는 경우:
   - 기상 시간만 기록된다.
   - 수면 보드는 **부분 상태(기상만 있음)** 로 표시된다.

---

### 저녁 플로우 (기분 → 취침)

1. 사용자는 저녁 시간대에 Daily Board에 진입한다.
2. 시스템은 **기분(mood) 입력을 우선적으로 제안**한다.
3. 사용자는 사전에 정의한 최대 5개의 mood 중 하나를 선택한다.
4. mood 선택 시:
   - 해당 날짜의 mood 보드는 즉시 완성 상태가 된다.
5. mood 입력 이후:
   - 사용자는 바로 종료할 수 있다.
   - 또는 "취침" 버튼을 눌러 취침 시간을 입력할 수 있다.
6. "취침" 버튼은 **‘지금 자러 가는 시간’** 을 의미한다.
   - 입력된 취침은 **오늘 날짜의 취침**으로 저장된다.
7. 취침만 입력된 상태에서는:
   - 수면 보드는 **부분 상태(취침만 있음)** 로 표시된다.
   - 실제 수면 완성은 다음 날 기상 입력 시 이루어진다.

---

### 미기록 플로우

- 사용자가 아무 입력도 하지 않은 날짜는:
  - Daily Board에 **회색 빈 칸**으로 표시된다.
  - 서비스는 메시지, 알림, 피드백을 제공하지 않는다.

---

## Step 6. 운영·기술 제약 (초기 방향)

- 초기 서비스는 **웹 기반**으로 운영한다.
- 서버·인프라 비용을 최소화하는 구성을 우선 고려한다.
- 이후 고도화 단계에서:
  - 네이티브 앱(Flutter) 전환 가능성을 염두에 둔다.
  - 홈 화면 위젯 제공까지 확장할 수 있도록 데이터 구조를 단순하게 유지한다.

---

## Step 6. Functional Requirements (P0)

> 본 단계에서는 **어떻게 구현할지는 정의하지 않고**,
> 시스템이 **반드시 제공해야 하는 기능적 요구사항**만을 명시한다.

---

### 6-1. 계정 / 인증

- 인증 방식은 **Google OAuth 단일 옵션(Google-only)** 이어야 한다.
- 사용자는 Google 계정으로 로그인할 수 있어야 한다.
- 서비스는 가입/로그인을 위해 별도의 추가 정보 입력(닉네임, 프로필 등)을 요구하지 않는다.
- 하나의 계정은 여러 디바이스에서 동일한 기록에 접근할 수 있어야 한다.

---

### 6-2. 날짜 및 Daily Board

- 시스템은 날짜 단위의 Daily Board를 제공해야 한다.
- 오늘 날짜는 시각적으로 강조되어야 한다.
- 각 날짜는 다음 상태 중 하나로 표현된다.
  - 미기록 (회색 빈 칸)
  - 부분 완성 (수면 또는 mood 중 하나만 입력됨)
  - 완전 완성 (수면 + mood 모두 입력됨)

---

### 6-3. 시간 입력 기능

- 시스템은 **기상 시간 입력 기능**을 제공해야 한다.
- 시스템은 **취침 시간 입력 기능**을 제공해야 한다.
- 시간 입력 시 기본값은 현재 시간이어야 한다.
- 사용자는 다음 방식으로 시간을 수정할 수 있어야 한다.
  - +30분 / -30분 버튼
  - hh:mm 형식의 직접 입력
- 시스템은 저장 시 입력된 시간이 **유효한 실제 시간**인지 검증해야 한다.

---

### 6-4. 수면 기록 및 계산

- 수면 기록은 **취침 시간과 기상 시간의 쌍(pair)** 으로 구성된다.
- 두 값이 모두 존재할 경우에만 수면 시간이 계산된다.
- 계산된 수면 시간은 **기상 날짜 기준**으로 저장된다.
- 취침 또는 기상 중 하나만 입력된 경우:
  - 수면 기록은 미완성 상태로 저장된다.
  - 수면 보드 내부에 부분 상태로 표시된다.

---

### 6-5. Mood 기록

- 사용자는 하루에 하나의 mood를 기록할 수 있어야 한다.
- mood 선택지는 최대 5개까지 사용자 정의가 가능해야 한다.
- mood 기록은 수면 기록과 독립적으로 완료 상태를 가진다.
- 00:00–06:00 사이에 mood를 입력할 경우:
  - 시스템은 해당 기록의 날짜를 확인할 수 있는 선택을 제공해야 한다.

---

### 6-6. Streak 판정

- streak는 날짜 단위로 계산된다.
- 하루에 다음 조건 중 하나라도 충족하면 streak는 유지된다.
  - 수면 기록이 완성됨
  - mood 기록이 완료됨
- 두 조건이 모두 충족되면 해당 날짜는 완전 완성 상태가 된다.
- streak는 미기록 날짜가 존재하더라도 자동으로 리셋되지 않는다.

---

### 6-7. 시각적 표현

- 시스템은 기록 상태를 **색상 및 패턴 중심의 시각적 요소**로 표현해야 한다.
- 숫자, 점수, 알림 기반 보상은 제공하지 않는다.
- 사용자는 기록 결과를 한눈에 인지할 수 있어야 한다.

---

## Step 7. Non-Goals (명시적 제외 범위)

> 본 단계는 **MVP 범위를 보호하기 위한 방어 장치**이다.
> 아래 항목들은 사용자 요청이나 구현 편의가 있더라도 **초기 버전에서는 의도적으로 제공하지 않는다**.

---

### 7-1. 데이터 분석 및 인사이트 제공

- 수면 시간과 mood 간의 상관관계 분석
- 통계 기반 인사이트 제공 (평균, 추세, 점수화 등)
- “잠이 부족하면 기분이 안 좋다”와 같은 해석/피드백

---

### 7-2. 목표 설정 및 계획 기능

- To-do 리스트
- 목표 설정, 달성률, 체크리스트
- 일정 관리, 캘린더 연동

---

### 7-3. 알림 및 푸시

- 기상/취침 알림
- 기록 리마인드 푸시
- streak 유지를 위한 압박성 알림

---

### 7-4. 과거 기록 수정 및 소급 입력

- 과거 날짜의 수면/기분 기록 수정
- 누락된 기록을 뒤늦게 채우는 기능
- 날짜 이동 기반 대량 수정

---

### 7-5. 소셜 및 공유 기능

- 기록 공유
- 친구 추가
- 비교, 랭킹, 피드

---

### 7-6. 수치화된 보상 시스템

- 점수, 레벨, 배지
- 연속 기록에 따른 보상 지급
- 경쟁 요소

---

### 7-7. 고급 개인화 및 AI 기능

- AI 코칭
- 자동 mood 추론
- 추천 기반 피드백

---

## Step 8. Next Agent Handoff

본 섹션은 본 PRD를 **실제 구현 단계로 전달하기 위한 인수인계 요약**이다.

---

### 핵심 목적

- 이 서비스는 **계획 관리가 아닌 결과 기록 도구**이다.
- 성공의 정의는 지속성과 시각적 완성감이며, 수치·알림·압박은 배제한다.

---

### 구현 기준 요약

- 구현 기준 User Flow는 **Step 5-B**이다.
- Daily Board는 GitHub 잔디와 유사한 **날짜-셀 기반 구조**를 따른다.
  - 각 셀은 날짜와 1:1로 매핑된다.
  - 모바일 환경을 고려해 **세로로 긴 레이아웃**을 기본으로 한다.
- 상태 표현은 다음 3단계만 존재한다.
  - 미기록 / 부분 완성 / 완전 완성

---

### 기술·운영 제약

- 인증은 **Google OAuth 단일 옵션**이다.
- 서버는 얇게 유지하고, 계산/표현은 클라이언트 중심으로 한다.
- 분석, 알림, 소셜, 과거 수정은 구조적으로 포함하지 않는다.

---

### 주의사항 (중요)

- 수면은 이벤트(pair) 기반이며, 상태 컬럼을 직접 저장하지 않는다.
- 수면 시간은 반드시 **기상 날짜 기준**으로 귀속한다.
- 회색 빈 칸은 실패가 아니라 "기록하지 않은 날"이다.

---

> 본 PRD는 구현 중에도 기준 문서로 유지되며,
> 범위 변경 시 반드시 본 문서를 우선 수정한다.

